# Salesforce Attachments Downloader - Environment Configuration
#
# Copy this file to .env and customize the values for your environment.
# WARNING: Never commit the .env file to version control! It may contain sensitive information.

# ============================================================
# Basic Configuration
# ============================================================

# Salesforce org alias to use (from sf CLI authentication)
# This is used as a fallback if --org is not provided on the command line
# Leave empty to use the default org configured in sf CLI
# Default: (empty - use default org)
SF_ORG_ALIAS=your-org

# Base output directory for downloaded files and metadata
# This is used as a fallback if --output is not provided on the command line
# Default: ./output
OUTPUT_DIR=./output

# Log file path for execution logs
# Default: ./logs/download.log
LOG_FILE=./logs/download.log

# Download chunk size in bytes for streaming file downloads
# Larger values may improve download speed but use more memory
# Smaller values are more memory-efficient but may be slower
# Default: 8192 (8KB)
CHUNK_SIZE=8192

# ============================================================
# CSV Records Processing Configuration
# ============================================================

# Directory containing CSV files with record IDs (column: Id)
# REQUIRED: This tool only supports CSV-based attachment extraction workflow
# 
# Each CSV file will be processed separately with attachments organized by filename
# The tool will:
#   1. Discover all .csv files in this directory
#   2. Extract record IDs from the 'Id' column
#   3. Batch IDs into groups (see BATCH_SIZE below)
#   4. Query attachments using WHERE ParentId IN (...) for each batch
#   5. Download attachments to output/files/[csv_name]/
#
# CSV Requirements:
#   - UTF-8 encoded
#   - Header row with column names
#   - Must contain 'Id' column with Salesforce record IDs (ParentIds)
#   - At least one data row
#
# Example: RECORDS_DIR=./records
# Default: (empty - must be provided via CLI or env)
RECORDS_DIR=./records

# Number of ParentIds per SOQL query batch
# Controls how many IDs are included in each WHERE ParentId IN (...) query
# 
# SOQL queries have a character length limit (~20,000 chars total)
# Each 18-character Salesforce ID uses ~22 chars in the query: '012345678901234ABC',
# 
# Performance considerations:
#   - Larger values (e.g., 500): Fewer queries but longer SOQL strings (risk hitting limit)
#   - Smaller values (e.g., 50): More queries but safer SOQL length
#   - Default 100: Good balance - ~2,000 chars per query (safe margin)
#
# Default: 100 (recommended for safety)
BATCH_SIZE=100

# ============================================================
# Logging Configuration
# ============================================================

# Console logging verbosity
# VERBOSE=true enables INFO level logging to console (progress, main steps)
# DEBUG=true enables DEBUG level logging to console (all technical details)
# Both default to false (INFO level shown by default)
# Note: Log file always contains DEBUG level regardless of these settings
#
# Default: false (INFO level on console)
VERBOSE=false
DEBUG=false

# ============================================================
# Output Filename Format
# ============================================================
#
# Attachment files are named using the following format:
#   - Default: {ParentId}_{original_filename}
#     Example: a3xAAA111_invoice.pdf
#
#   - Collision: {ParentId}_{AttachmentId}_{original_filename}
#     Example: a3xAAA111_00P1234_invoice.pdf
#
# Collision detection is case-insensitive. When multiple attachments
# with the same name exist for the same ParentId, the tool automatically
# adds the Attachment ID to prevent overwrites.
#
# No configuration needed - this behavior is automatic.
